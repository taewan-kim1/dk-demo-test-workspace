<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core"
	xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	
	<flow name="kakao-alarm-send-pro-main"
		doc:id="13f67920-d521-4f3e-95e3-cdc3a830583b">
		<http:listener doc:name="Listener"
			doc:id="c1f5e306-48f6-4463-aaca-ac4786c1df91"
			config-ref="HTTP_Listener_config" path="/kakao" />
		<ee:transform doc:name="Transform Message"
			doc:id="a8c80972-6f95-455e-a5ed-d4abf5d2202e">
			<ee:message>
				<ee:set-payload><![CDATA[%dw 2.0
output application/java
---
payload]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<logger level="INFO" doc:name="Start of kakao-alarm-process"
			doc:id="8fd3814a-2ca9-4fb2-84f8-01449d7ea849"
			message="Start of kakao-alarm-process" />
		<choice doc:name="Choice"
			doc:id="b9e14125-d167-4fa0-9221-d8e8b67427e2">
			<when expression="Alarm exists">
				<logger level="INFO" doc:name="Alarm messages Exist"
					doc:id="5dde92ea-ff58-4482-8603-136136ac5448"
					message="Alarm messages Exist" />
				<flow-ref doc:name="Imp_send-kakao-alarm"
					doc:id="b2a498f4-4fbc-4a0e-8b11-5c5dea9159aa"
					name="Implementation_send-kakao-alarm" />
			</when>
			<otherwise>
				<logger level="INFO" doc:name="Alarm messages do not Exist"
					doc:id="e8c44ee0-f4dc-4668-88a3-63befd25d7d8"
					message="Alarm messages do not Exist" />
				<flow-ref doc:name="Imp_salesforce-from-kakao"
					doc:id="34ee2918-4bf9-49f3-a590-f73002053d23"
					name="Implementation_salesforce-from-kakao" />
			</otherwise>
		</choice>
	</flow>
</mule>
